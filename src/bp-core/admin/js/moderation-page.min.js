jQuery(document).ready(function(o){o(document).on("click",".bp-hide-request",function(s){if(s.preventDefault(),!confirm(Bp_Moderation.strings.confirm_msg))return!1;o(".bp-moderation-ajax-msg p").text("").parent().addClass("hidden");var r=o(this);r.addClass("disabled");var t=r.attr("data-id"),e=r.attr("data-type"),a=r.attr("data-nonce"),i=r.attr("data-action"),n={action:"bp_moderation_content_actions_request",id:t,type:e,sub_action:i,nonce:a};o(s.currentTarget).append(' <i class="bb-icon bb-icon-loader animate-spin"></i>'),o.post(ajaxurl,n,function(t){var e=o.parseJSON(t),a="",n=window.location.href;!0===e.success?("hide"===i?(r.attr("data-action","unhide"),r.attr("title",Bp_Moderation.strings.unhide_label),r.text(Bp_Moderation.strings.unhide_label),a="hidden"):"unhide"===i&&(r.attr("data-action","hide"),r.attr("title",Bp_Moderation.strings.hide_label),r.text(Bp_Moderation.strings.hide_label),a="unhide"),-1<n.indexOf("?")?n+="&"+a+"=1":n+="?"+a+"=1",window.location.href=n):(o(".bp-moderation-ajax-msg p").text(e.message.errors.bp_moderation_content_actions_request).parent().removeClass("hidden"),o(s.currentTarget).find(".bb-icon-loader").remove()),r.removeClass("disabled")})}),o(document).on("click",".bp-block-user",function(s){if(s.preventDefault(),!confirm(Bp_Moderation.strings.confirm_msg))return!1;o(".bp-moderation-ajax-msg p").text("").parent().addClass("hidden");var r=o(this);r.addClass("disabled");var t=r.attr("data-id"),e=r.attr("data-type"),a=r.attr("data-nonce"),i=r.attr("data-action"),n={action:"bp_moderation_user_actions_request",id:t,type:e,sub_action:i,nonce:a};o(s.currentTarget).append(' <i class="bb-icon bb-icon-loader animate-spin"></i>'),o.post(ajaxurl,n,function(t){var e,a=o.parseJSON(t),n="";!0===a.success?(e=window.location.href,"suspend"===i?(r.attr("data-action","unsuspend"),r.attr("title",Bp_Moderation.strings.unhide_label),r.hasClass("content-author")?r.text(Bp_Moderation.strings.unsuspend_author_label):r.hasClass("single-report-btn")?r.text(Bp_Moderation.strings.unsuspend_member_label):r.text(Bp_Moderation.strings.unsuspend_label),n="suspended"):"unsuspend"===i&&(r.attr("data-action","suspend"),r.attr("title",Bp_Moderation.strings.hide_label),r.hasClass("content-author")?r.text(Bp_Moderation.strings.suspend_author_label):r.hasClass("single-report-btn")?r.text(Bp_Moderation.strings.suspend_member_label):r.text(Bp_Moderation.strings.suspend_label),n="unsuspended"),-1<e.indexOf("?")?e+="&"+n+"=1":e+="?"+n+"=1",window.location.href=e):(o(".bp-moderation-ajax-msg p").text(a.message.errors.bp_moderation_user_missing_data).parent().removeClass("hidden"),o(s.currentTarget).find(".bb-icon-loader").remove()),r.removeClass("disabled")})})});
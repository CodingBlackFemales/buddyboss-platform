jQuery(document).ready(function(o){o(document).on("click",".bp-hide-request",function(t){if(t.preventDefault(),!confirm(Bp_Moderation.strings.confirm_msg))return!1;o(".bp-moderation-ajax-msg p").text("").parent().addClass("hidden");var s=o(this);s.addClass("disabled");var e=s.attr("data-id"),a=s.attr("data-type"),n=s.attr("data-nonce"),r=s.attr("data-action"),i={action:"bp_moderation_content_actions_request",id:e,type:a,sub_action:r,nonce:n};o.post(ajaxurl,i,function(t){var e=o.parseJSON(t),a="",n=window.location.href;!0===e.success?("hide"===r?(s.attr("data-action","unhide"),s.attr("title",Bp_Moderation.strings.unhide_label),s.text(Bp_Moderation.strings.unhide_label),a="hidden"):"unhide"===r&&(s.attr("data-action","hide"),s.attr("title",Bp_Moderation.strings.hide_label),s.text(Bp_Moderation.strings.hide_label),a="unhide"),-1<n.indexOf("?")?n+="&"+a+"=1":n+="?"+a+"=1",window.location.href=n):o(".bp-moderation-ajax-msg p").text(e.message.errors.bp_moderation_content_actions_request).parent().removeClass("hidden"),s.removeClass("disabled")})}),o(document).on("click",".bp-block-user",function(t){if(t.preventDefault(),!confirm(Bp_Moderation.strings.confirm_msg))return!1;o(".bp-moderation-ajax-msg p").text("").parent().addClass("hidden");var s=o(this);s.addClass("disabled");var e=s.attr("data-id"),a=s.attr("data-type"),n=s.attr("data-nonce"),r=s.attr("data-action"),i={action:"bp_moderation_user_actions_request",id:e,type:a,sub_action:r,nonce:n};o.post(ajaxurl,i,function(t){var e,a=o.parseJSON(t),n="";!0===a.success?(e=window.location.href,"suspend"===r?(s.attr("data-action","unsuspend"),s.attr("title",Bp_Moderation.strings.unhide_label),s.hasClass("content-author")?s.text(Bp_Moderation.strings.unsuspend_author_label):s.hasClass("single-report-btn")?s.text(Bp_Moderation.strings.unsuspend_member_label):s.text(Bp_Moderation.strings.unsuspend_label),n="suspended"):"unsuspend"===r&&(s.attr("data-action","suspend"),s.attr("title",Bp_Moderation.strings.hide_label),s.hasClass("content-author")?s.text(Bp_Moderation.strings.suspend_author_label):s.hasClass("single-report-btn")?s.text(Bp_Moderation.strings.suspend_member_label):s.text(Bp_Moderation.strings.suspend_label),n="unsuspended"),-1<e.indexOf("?")?e+="&"+n+"=1":e+="?"+n+"=1",window.location.href=e):o(".bp-moderation-ajax-msg p").text(a.message.errors.bp_moderation_user_missing_data).parent().removeClass("hidden"),s.removeClass("disabled")})})});
!function(){var R=jQuery.noConflict(),W=[],X=[];function Y(e,t,n){var o=new Date;o.setTime(o.getTime()+60*n*1e3);var i="expires="+o.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}R(function(){R("[data-run-js-condition]").each(function(){var t=R(this).data("run-js-condition"),n=R(this).prop("tagName");R(this).on("change.run-condition",function(){if("SELECT"===n&&R(this).is(":visible")){var e=t+"-"+R(this).val();return R('[class*="js-show-on-'+t+'-"]:not(.js-show-on-'+e+")").hide(),R(".js-show-on-"+e).show().find("[data-run-js-condition]").trigger("change.run-condition"),!0}R(this).prop("checked")&&R(this).is(":visible")?(R(".js-hide-on-"+t).hide(),R(".js-show-on-"+t).show().find("[data-run-js-condition]").trigger("change.run-condition")):(R(".js-hide-on-"+t).show(),R(".js-show-on-"+t).hide().find("[data-run-js-condition]").trigger("change.run-condition"))}).trigger("change.run-condition")}),R(document).find(".buddyboss_page_bp-pages .bp-admin-card").length&&R(document).on("click",".create-background-page",function(){var e=R(this).attr("data-name");R.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_core_admin_create_background_page",page:e},success:function(e){e.success&&(window.location.href=e.data.url)}})}),R(".bp-search-child-field").on("click",'input[type="checkbox"]',function(e){var t=R(e.delegateTarget).prevAll(".bp-search-parent-field").first();t.length&&e.currentTarget.checked&&t.find('input[type="checkbox"]').prop("checked",!0)}),R(".bp-search-parent-field").on("click",'input[type="checkbox"]',function(e){var t=R(e.delegateTarget).nextUntil(".bp-search-parent-field");t.length&&!e.currentTarget.checked&&t.find('input[type="checkbox"]').prop("checked",!1)})}),R(document).ready(function(){var e,t,n,o,i,s,a,p,r,d,c,u,l,m=R("#wpwrap #adminmenumain #adminmenuwrap #adminmenu #toplevel_page_buddyboss-platform ul.wp-submenu li");R("body.buddypress.post-type-bp-group-type").length&&(e=R('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-groups"]'),R(m).removeClass("current"),R(e).addClass("current"),R(e).attr("aria-current","page"),R("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-groups"]').parent().addClass("current")),R("body.buddypress.post-type-bp-email").length&&(t=R('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-email"]'),R(m).removeClass("current"),R(t).addClass("current"),R(t).attr("aria-current","page"),R("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-email"]').parent().addClass("current")),R("body.buddypress.post-type-topic").length&&(n=R('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]'),R(n).addClass("current"),R(n).attr("aria-current","page"),R("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")),R("body.buddypress.post-type-reply").length&&(o=R('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]'),R(o).addClass("current"),R(o).attr("aria-current","page"),R("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")),R("body.buddypress.post-type-bp-member-type").length&&(i=R('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]'),R(m).removeClass("current"),R(i).addClass("current"),R(i).attr("aria-current","page"),R("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")),R("body.buddypress.post-type-bp_ps_form").length&&(s=R('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]'),R(m).removeClass("current"),R(s).addClass("current"),R(s).attr("aria-current","page"),R("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")),R("body.buddypress.buddyboss_page_bbp-repair").length&&(a=R('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),R(m).removeClass("current"),R(a).addClass("current"),R(a).attr("aria-current","page"),R("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),R("body.buddypress.buddyboss_page_bbp-converter").length&&(p=R('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),R(m).removeClass("current"),R(p).addClass("current"),R(p).attr("aria-current","page"),R("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),R("body.buddypress.buddyboss_page_bp-media-import").length&&(r=R('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),R(m).removeClass("current"),R(r).addClass("current"),R(r).attr("aria-current","page"),R("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),(R("body.buddypress.buddyboss_page_bp-member-type-import").length||R("body.buddypress.buddyboss_page_bp-repair-community").length)&&(d=R('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),R(m).removeClass("current"),R(d).addClass("current"),R(d).attr("aria-current","page"),R("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),R("body.buddypress.taxonomy-bpm_category").length&&(c=R("#wpwrap #adminmenumain #adminmenuwrap #adminmenu li"),u=R("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform"),l=R('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-moderation"]'),R(c).removeClass("wp-has-current-submenu"),R(c).removeClass("wp-menu-open"),R(u).addClass("wp-has-current-submenu wp-menu-open"),R(m).removeClass("current"),R(l).addClass("current"),R(l).attr("aria-current","page"),R("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-moderation"]').parent().addClass("current")),R("body .section-bp_search_settings_community").length&&(R("body .section-bp_search_settings_community table td input:checkbox:checked").length===R("body .section-bp_search_settings_community table td input:checkbox").length&&R("#bp_search_select_all_components").prop("checked",!0),R("#bp_search_select_all_components").click(function(){var e=R("body .section-bp_search_settings_community table");R("td input:checkbox",e).prop("checked",this.checked)}),R("body .section-bp_search_settings_community table td input:checkbox").click(function(){R("body .section-bp_search_settings_community table td input:checkbox:checked").length===R("body .section-bp_search_settings_community table td input:checkbox").length?R("#bp_search_select_all_components").prop("checked",!0):R("#bp_search_select_all_components").prop("checked",!1),"bp_search_topic_tax_topic-tag"===R(this).attr("id")&&!0===R(this).prop("checked")&&!1===R("#bp_search_post_type_topic").prop("checked")&&R("#bp_search_post_type_topic").prop("checked",!0),"bp_search_post_type_topic"===R(this).attr("id")&&!0!==R(this).prop("checked")&&!0===R("#bp_search_topic_tax_topic-tag").prop("checked")&&R("#bp_search_topic_tax_topic-tag").prop("checked",!1)})),R("body .section-bp_search_settings_post_types").length&&(R("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===R("body .section-bp_search_settings_post_types table td input:checkbox").length&&R("#bp_search_select_all_post_types").prop("checked",!0),R("#bp_search_select_all_post_types").click(function(){var e=R("body .section-bp_search_settings_post_types table");R("td input:checkbox",e).prop("checked",this.checked)}),R("body .section-bp_search_settings_post_types table td input:checkbox").click(function(){R("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===R("body .section-bp_search_settings_post_types table td input:checkbox").length?R("#bp_search_select_all_post_types").prop("checked",!0):R("#bp_search_select_all_post_types").prop("checked",!1)})),R("body .section-bp_document_settings_extensions").length&&(R(document).find(".nav-settings-subsubsub .subsubsub li.bp-media a").addClass("current"),R("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox:checked").length===R("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").length&&R("#bp_select_extensions").prop("checked",!0),R("#bp_select_extensions").click(function(){var e=R("body .section-bp_document_settings_extensions table tbody tr td table tbody tr");R("td input:checkbox",e).prop("checked",this.checked)}),R("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").click(function(){R("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox:checked").length===R("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").length?R("#bp_select_extensions").prop("checked",!0):R("#bp_select_extensions").prop("checked",!1)}),R("form").submit(function(){var e=!1;if(R('body .section-bp_document_settings_extensions table tbody tr td table tbody tr.document-extensions td [type="text"]').each(function(){""===R.trim(R(this).val())?(R(this).addClass("error"),e=!0):R(this).hasClass("error")&&R(this).removeClass("error")}),e)return!1})),R(".buddyboss_page_bp-activity").length&&R(document).on("click",".activity-attached-gif-container",function(e){e.preventDefault();var t=R(this).find("video").get(0),n=R(this).find(".gif-play-button");!0===t.paused?(t.play(),n.hide()):(t.pause(),n.show())}),R("body.buddyboss_page_bp-help").length&&(R(".bp-help-card-grid").on("click","span.open",function(){R(this).toggleClass("active"),R(this).closest(".main").find("ul:first").toggle()}),R(".bp-help-card-grid li.selected").closest("ul").show().closest("li").find("> span.actions .open").addClass("active"),R(".bp-help-card-grid li.selected").find("ul:first").show(),R(".bp-help-card-grid li.selected").find("> span.actions .open").addClass("active"),R(".bp-help-card-grid .sub-menu-count").each(function(){R(this).text("("+R(this).closest("li").find("ul:first li").size()+")")})),R(".buddyboss_page_bp-settings .section-bp_groups_hierarchies").length&&(document.getElementById("bp-enable-group-hierarchies").checked?R(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").show():R(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").hide(),R(document).on("click","#bp-enable-group-hierarchies",function(){!0===this.checked?R(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").show():(R(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").hide(),R("#bp-enable-group-restrict-invites, #bp-enable-group-hide-subgroups").prop("checked",!1))})),R(".buddyboss_page_bp-settings .section-bp_custom_post_type").length&&(R(".bp-feed-post-type-checkbox").each(function(){var e=R(this).data("post_type");!0===this.checked&&R(".bp-feed-post-type-comment-"+e).closest("tr").show()}),R(".buddyboss_page_bp-settings .section-bp_custom_post_type").on("click",".bp-feed-post-type-checkbox",function(){var e=R(this).data("post_type"),t=R(".bp-feed-post-type-comment-"+e);!0===this.checked?t.closest("tr").show():t.prop("checked",!1).closest("tr").hide()})),R("#bp_media_profile_media_support").change(function(){this.checked?R("#bp_media_profile_albums_support").prop("disabled",!1):(R("#bp_media_profile_albums_support").prop("disabled",!0),R("#bp_media_profile_albums_support").attr("checked",!1))}),R("#bp_media_group_media_support").change(function(){this.checked?R("#bp_media_group_albums_support").prop("disabled",!1):(R("#bp_media_group_albums_support").prop("disabled",!0),R("#bp_media_group_albums_support").attr("checked",!1))}),R("body .section-bp_video_settings_extensions").length&&(R(document).find(".nav-settings-subsubsub .subsubsub li.bp-media a").addClass("current"),R(".video-extensions-listing #bp_select_extensions").click(function(){var e=R("body .section-bp_video_settings_extensions table tbody tr td table tbody tr");R("td input:checkbox",e).prop("checked",this.checked)})),R(".buddyboss_page_bp-tools .section-default_data").length&&(jQuery(".bp-admin-form .checkbox").click(function(){"import-f-replies"===jQuery(this).attr("id")&&jQuery("#import-f-topics").prop("checked",!0),"import-f-topics"===jQuery(this).attr("id")&&jQuery("#import-f-replies").prop("checked",!1),"checked"!==jQuery(this).attr("checked")||jQuery(this).closest("li.main").find(".main-header").attr("disabled")||jQuery(this).closest("li.main").find(".main-header").prop("checked",!0)}),jQuery(".bp-admin-form #import-groups, .bp-admin-form #import-users, .bp-admin-form #import-forums").click(function(){"checked"!==jQuery(this).attr("checked")&&jQuery(this).closest("li").find("ul .checkbox").prop("checked",!1)}),jQuery(".bp-admin-form #bp-admin-submit").click(function(){return!!confirm(BP_ADMIN.tools.default_data.submit_button_message)}),jQuery(".bp-admin-form #bp-admin-clear").click(function(){return!!confirm(BP_ADMIN.tools.default_data.clear_button_message)}));setTimeout(function(){R('iframe[src*="youtube"], iframe[src*="vimeo"]').parent().fitVids()},300);var b,h,_,f=function(){R.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_media_import_status_request"},success:function(e){var t,n,o,i,s;void 0!==e.success&&void 0!==e.data?(t=e.data.total_media,n=e.data.total_albums,o=e.data.albums_done,i=e.data.media_done,s=e.data.import_status,R("#bp-media-import-albums-total").text(n),R("#bp-media-import-media-total").text(t),R("#bp-media-import-albums-done").text(o),R("#bp-media-import-media-done").text(i),"reset_albums"==s||"reset_media"==s||"reset_forum"==s||"reset_topic"==s||"reset_reply"==s||"reset_options"==s?R("#bp-media-resetting").show():R("#bp-media-resetting").hide(),"done"==s&&n==o&&t==i?(R("#bp-media-import-msg").text(e.data.success_msg),R("#bp-media-import-submit").show()):f()):R("#bp-media-import-msg").text(e.data.error_msg)},error:function(){}})};R("#bp-media-import-updating").length&&f(),R(".display-options").length&&(b=R(".display-options"),h=R("select[name=bp-display-name-format]"),_=h.val(),R(b).each(function(){R(this).hide()}),"first_name"===_?(R(".first-name-options").show(),R(".nick-name-options").hide(),R(".first-last-name-options").hide()):"first_last_name"===_?(R(".first-last-name-options").show(),R(".first-name-options").hide(),R(".nick-name-options").hide()):(R(".nick-name-options").show(),R(".first-name-options").hide(),R(".first-last-name-options").hide()),R(h).change(function(){R(b).each(function(){R(this).hide()}),"first_name"===(_=R(this).val())?(R(".first-name-options").show(),R(".nick-name-options").hide(),R(".first-last-name-options").hide()):"first_last_name"===_?(R(".first-last-name-options").show(),R(".first-name-options").hide(),R(".nick-name-options").hide()):(R(".nick-name-options").show(),R(".first-name-options").hide(),R(".first-last-name-options").hide())}));var g,v,y=R(".profile-layout-options");y.length&&(g=R("select[name=bp-profile-layout-format]"),v=g.val(),R(y).each(function(){R(this).hide()}),"list_grid"===v?R(".profile-default-layout").show():R(".profile-default-layout").hide(),R(g).change(function(){R(y).each(function(){R(this).hide()}),"list_grid"===(v=R(this).val())?R(".profile-default-layout").show():R(".profile-default-layout").hide()}),function(){for(var e=document.cookie.split(";"),t={},n=0;n<e.length;n++){var o=e[n].split("=");t[(o[0]+"").trim()]=unescape(o.slice(1).join("="))}return t}().reset_member&&(localStorage.setItem("bp-members",""),localStorage.setItem("bp-group_members",""),Y("reset_member","",0)));var x,w,k,C,D=R(".group-layout-options");D.length&&(x=R("select[name=bp-group-layout-format]"),w=x.val(),R(D).each(function(){R(this).hide()}),"list_grid"===w?R(".group-default-layout").show():R(".group-default-layout").hide(),R(x).change(function(){R(D).each(function(){R(this).hide()}),"list_grid"===(w=R(this).val())?R(".group-default-layout").show():R(".group-default-layout").hide()}),function(){for(var e=document.cookie.split(";"),t={},n=0;n<e.length;n++){var o=e[n].split("=");t[(o[0]+"").trim()]=unescape(o.slice(1).join("="))}return t}().reset_group&&(localStorage.setItem("bp-groups",""),Y("reset_group","",0))),R("#bp-tools-submit").length&&(k=function(e,t){if(void 0===W[t])return!1;R('body .section-repair_community .settings fieldset .checkbox label[for="'+W[t]+'"]').append('<div class="loader-repair-tools"></div>'),R.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_repair_tools_wrapper_function",type:W[t],offset:e,nonce:R('body .section-repair_community .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){if(void 0!==e.success){if(!e.success||void 0===e.data)return R("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1;"running"===e.data.status?(R('body .section-repair_community .settings fieldset .checkbox label[for="'+W[t]+'"] .loader-repair-tools').remove(),R('body .section-repair_community .settings fieldset .checkbox label[for="'+W[t]+'"] code').remove(),R('body .section-repair_community .settings fieldset .checkbox label[for="'+W[t]+'"]').append("<code>"+e.data.records+"</code>")):(R('body .section-repair_community .settings fieldset .checkbox label[for="'+W[t]+'"] .loader-repair-tools').remove(),R(".section-repair_community .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),t+=1),k(e.data.offset,t),W.length===t&&R("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn")}},error:function(){return R("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1}})},R(document).on("click","#bp-tools-submit",function(e){e.preventDefault(),W=[],setTimeout(function(){R("body .section-repair_community .settings fieldset .updated").remove()},500),R.each(R('.section-repair_community .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){W.push(R(this).val())}),W.length&&(R("body .section-repair_community .settings fieldset .submit a").addClass("disable-btn"),R("body .section-repair_community .settings fieldset .checkbox code").remove(),k(0,0))})),R("#bp-tools-forum-submit").length&&(C=function(e,t){R('body .section-repair_forums .settings fieldset .checkbox label[for="'+X[t]+'"]').append('<div class="loader-repair-tools"></div>'),void 0!==X[t]&&R.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_forum_repair_tools_wrapper_function",type:X[t],offset:e,site_id:R("body .section-repair_forums #bbp-network-site").val(),nonce:R('body .section-repair_forums .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){void 0!==e.success&&void 0!==e.data&&("running"===e.data.status?(R('body .section-repair_forums .settings fieldset .checkbox label[for="'+X[t]+'"] .loader-repair-tools').remove(),R('body .section-repair_forums .settings fieldset .checkbox label[for="'+X[t]+'"] code').remove(),R('body .section-repair_forums .settings fieldset .checkbox label[for="'+X[t]+'"]').append("<code>"+e.data.records+"</code>")):(R('body .section-repair_forums .settings fieldset .checkbox label[for="'+X[t]+'"] .loader-repair-tools').remove(),0===e.data.status?R(".section-repair_forums .settings fieldset").append('<div class="error"><p>'+e.data.message+"</p></div>"):R(".section-repair_forums .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),t+=1),C(e.data.offset,t),X.length===t&&R("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"))},error:function(){return R("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"),!1}})},R(document).on("click","#bp-tools-forum-submit",function(e){e.preventDefault(),X=[];var t=R("body .section-repair_forums #bbp-network-site");if(t.length&&"0"===t.val())return alert(BP_ADMIN.tools.repair_forums.validate_site_id_message),!1;setTimeout(function(){R("body .section-repair_forums .settings fieldset .updated").remove()},500),R.each(R('.section-repair_forums .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){X.push(R(this).val())}),X.length&&(R("body .section-repair_forums .settings fieldset .submit a").addClass("disable-btn"),R("body .section-repair_forums .settings fieldset .checkbox code").remove(),C(1,0))}));var j=R("#allow-custom-registration");j.length&&(0===parseInt(j.val())?(R(".register-text-box").hide(),R(".register-email-checkbox").show(),R(".register-password-checkbox").show(),R(".register-legal-agreement-checkbox").show()):(R(".register-email-checkbox").hide(),R(".register-password-checkbox").hide(),R(".register-legal-agreement-checkbox").hide(),R(".register-text-box").show()),R(j).change(function(){0===parseInt(R(this).val())?(R(".register-text-box").hide(),R(".register-email-checkbox").show(),R(".register-password-checkbox").show(),R(".register-legal-agreement-checkbox").show(),R(".registration-form-main-select p.description").show()):(R(".register-email-checkbox").hide(),R(".register-password-checkbox").hide(),R(".register-legal-agreement-checkbox").hide(),R(".register-text-box").show(),R(".registration-form-main-select p.description").hide())}));var I=R("#bp-profile-avatar-type"),B=R("#bp-disable-avatar-uploads"),P=R("input[type=radio][name=bp-default-profile-avatar-type]"),A=R("input[type=radio][name=bp-default-profile-avatar-type]:checked").val(),N=R(".upload-avatars-field"),M=R(".profile-avatar-options"),T=R(".default-profile-avatar-type"),Q=R(".default-profile-avatar-custom"),S=R(".enable-profile-gravatar-field"),E=R(".bb-wordpress-profile-gavatar-warning");I.length&&(N.hide(),T.hide(),Q.hide(),E.hide(),S.hide(),"buddyboss"===I.val()?(N.show(),T.show(),S.show(),"custom"===A&&Q.show()):"wordpress"!==I.val()||BP_ADMIN.avatar_settings.wordpress_show_avatar||E.show(),R(I).change(function(){N.hide(),T.hide(),Q.hide(),E.hide(),S.hide(),"buddyboss"===R(this).val()?(N.show(),S.show(),B.prop("checked")&&(A=R("input[type=radio][name=bp-default-profile-avatar-type]:checked").val(),T.show(),"custom"===A&&Q.show())):"wordpress"!==R(this).val()||BP_ADMIN.avatar_settings.wordpress_show_avatar||E.show()})),B.length&&("buddyboss"===I.val()&&B.prop("checked")?M.show():M.hide(),R(B).change(function(){"buddyboss"===I.val()&&R(this).prop("checked")?(M.show(),"custom"!==(A=R("input[type=radio][name=bp-default-profile-avatar-type]:checked").val())&&Q.hide()):M.hide()})),P.length&&("buddyboss"===I.val()&&B.prop("checked")&&"custom"===A?Q.show():Q.hide(),R(P).change(function(){"buddyboss"===I.val()&&B.prop("checked")&&"custom"===this.value?Q.show():Q.hide()}));var L=R("#bp-disable-cover-image-uploads"),O=R("input[type=radio][name=bp-default-profile-cover-type]"),q=R("input[type=radio][name=bp-default-profile-cover-type]:checked").val();function F(e,t,n){e.find("p").removeClass("success error").addClass(n).html(t),e.show()}L.length&&(L.prop("checked")?R(".profile-cover-options").show():R(".profile-cover-options").hide(),R(L).change(function(){R(this).prop("checked")?(R(".profile-cover-options").show(),"custom"!==(q=R("input[type=radio][name=bp-default-profile-cover-type]:checked").val())&&R(".default-profile-cover-custom").hide()):R(".profile-cover-options").hide()})),O.length&&(L.prop("checked")&&"custom"===q?R(".default-profile-cover-custom").show():R(".default-profile-cover-custom").hide(),R(O).change(function(){"custom"===this.value?R(".default-profile-cover-custom").show():R(".default-profile-cover-custom").hide()})),R(document).on("change","#default-profile-cover-file, #default-group-cover-file",function(e){e.preventDefault();var t=R(this)[0].files[0],n=R(".custom-profile-group-cover"),o=n.find(".bb-custom-profile-group-cover-feedback"),i=n.find(".bb-upload-preview"),s=n.find("#bp-default-custom-"+BP_ADMIN.profile_group_cover.upload.object+"-cover"),a=n.find("a.bb-img-remove-button");if(o.hide(),o.find("p").removeClass("success error"),void 0===t)return F(o,BP_ADMIN.profile_group_cover.select_file,"error"),!1;var p=new FormData;p.append("file",t),p.append("name",t.name),p.append("_wpnonce",BP_ADMIN.profile_group_cover.upload.nonce),p.append("action",BP_ADMIN.profile_group_cover.upload.action),p.append("bp_params[object]",BP_ADMIN.profile_group_cover.upload.object),p.append("bp_params[item_id]",BP_ADMIN.profile_group_cover.upload.item_id),p.append("bp_params[has_cover_image]",BP_ADMIN.profile_group_cover.upload.has_cover_image),p.append("bp_params[nonces][remove]",BP_ADMIN.profile_group_cover.remove.nonce),R.ajax({url:BP_ADMIN.ajax_url,cache:!1,contentType:!1,processData:!1,data:p,type:"post",success:function(e){var t="error",n=void 0===e?BP_ADMIN.profile_group_cover.file_upload_error:e.success?(i.prop("src",e.data.url).show(),s.val(e.data.url),a.show(),t="success",BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code]):void 0===e.data.feedback_code?e.data.message:BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code];F(o,n,t),R("#default-profile-cover-file, #default-group-cover-file").val("")}})}),R(".custom-profile-group-cover").on("click","a.bb-img-remove-button",function(e){var o,t,i,s,a,p;e.preventDefault(),confirm(BP_Confirm.are_you_sure)&&(o=R(this),t=R(".custom-profile-group-cover"),i=t.find(".bb-custom-profile-group-cover-feedback"),s=t.find(".bb-upload-preview"),a=t.find("#bp-default-custom-"+BP_ADMIN.profile_group_cover.upload.object+"-cover"),p=s.data("default"),i.hide(),i.find("p").removeClass("success error"),R.ajax({url:BP_ADMIN.ajax_url,cache:!1,data:{json:!0,action:BP_ADMIN.profile_group_cover.remove.action,item_id:BP_ADMIN.profile_group_cover.upload.item_id,object:BP_ADMIN.profile_group_cover.upload.object,nonce:BP_ADMIN.profile_group_cover.remove.nonce},type:"post",success:function(e){var t="error",n=void 0===e?BP_ADMIN.profile_group_cover.file_upload_error:e.success?(s.prop("src",p).hide(),a.val(""),o.hide(),t="success",BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code]):void 0===e.data.feedback_code?e.data.message:BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code];F(i,n,t)}}))});var U=R("#bp-disable-group-avatar-uploads"),z=R("input[type=radio][name=bp-default-group-avatar-type]"),V=R("input[type=radio][name=bp-default-group-avatar-type]:checked").val();U.length&&(U.prop("checked")?R(".group-avatar-options").show():R(".group-avatar-options").hide(),R(U).change(function(){R(this).prop("checked")?(R(".group-avatar-options").show(),"custom"!==(V=R("input[type=radio][name=bp-default-group-avatar-type]:checked").val())&&R(".default-group-avatar-custom").hide()):R(".group-avatar-options").hide()})),z.length&&(U.prop("checked")&&"custom"===V?R(".default-group-avatar-custom").show():R(".default-group-avatar-custom").hide(),R(z).change(function(){"custom"===this.value?R(".default-group-avatar-custom").show():R(".default-group-avatar-custom").hide()}));var G=R("#bp-disable-group-cover-image-uploads"),H=R("input[type=radio][name=bp-default-group-cover-type]"),J=R("input[type=radio][name=bp-default-group-cover-type]:checked").val();function K(){R(".document-extensions-listing .extension-icon").each(function(){var t,e,n;0===R(this).closest("td").find(".icon-select-main").length&&(t=[],R(this).closest("td").find("select.extension-icon option").each(function(){var e='<li><i class="'+R(this).val()+'"></i><span>'+this.innerText+"</span></li>";t.push(e)}),R(this).closest("td").find("select.extension-icon").parent().append('<div class="icon-select-main"><span class="icon-select-button"></span><div class="custom-extension-list"> <ul class="custom-extension-list-select">'+t+"</ul></div></div>"),e=R(this).closest("td").find(".extension-icon").val(),n=R(this).closest("td").find(".extension-icon option:selected").text(),R(this).closest("td").find(".icon-select-main .icon-select-button").html('<li><i class="'+e+'"></i><span>'+n+"</span></li>"))})}G.length&&(G.prop("checked")?R(".group-cover-options").show():R(".group-cover-options").hide(),R(G).change(function(){R(this).prop("checked")?(R(".group-cover-options").show(),"custom"!==(J=R("input[type=radio][name=bp-default-group-cover-type]:checked").val())&&R(".default-group-cover-custom").hide()):R(".group-cover-options").hide()})),H.length&&(G.prop("checked")&&"custom"===J?R(".default-group-cover-custom").show():R(".default-group-cover-custom").hide(),R(H).change(function(){"custom"===this.value?R(".default-group-cover-custom").show():R(".default-group-cover-custom").hide()})),R(document).on("click","table.extension-listing #btn-add-extensions",function(){var e=R(this).closest("table.extension-listing"),t=R(this).closest("table.extension-listing").find("tbody tr.custom-extension-data").html(),n=1;e.find("tbody").append(' <tr class="custom-extension extra-extension document-extensions"> '+t+" </tr> "),K(),e.find("tbody tr.extra-extension").each(function(){R(this).find("input.extension-check").attr("name","bp_document_extensions_support["+n+"][is_active]"),R(this).find("input.extension-check").attr("data-name","bp_document_extensions_support["+n+"][is_active]"),R(this).find("input.extension-name").attr("name","bp_document_extensions_support["+n+"][name]"),R(this).find("input.extension-name").attr("data-name","bp_document_extensions_support["+n+"][name]"),R(this).find("input.extension-hidden").attr("name","bp_document_extensions_support["+n+"][hidden]"),R(this).find("input.extension-hidden").attr("data-name","bp_document_extensions_support["+n+"][hidden]"),R(this).find("input.extension-extension").attr("name","bp_document_extensions_support["+n+"][extension]"),R(this).find("input.extension-extension").attr("data-name","bp_document_extensions_support["+n+"][extension]"),R(this).find("select.extension-icon").attr("name","bp_document_extensions_support["+n+"][icon]"),R(this).find("select.extension-icon").attr("data-name","bp_document_extensions_support["+n+"][icon]"),R(this).find("input.extension-mime").attr("name","bp_document_extensions_support["+n+"][mime_type]"),R(this).find("input.extension-mime").attr("data-name","bp_document_extensions_support["+n+"][mime_type]"),R(this).find("input.extension-desc").attr("name","bp_document_extensions_support["+n+"][description]"),R(this).find("input.extension-desc").attr("data-name","bp_document_extensions_support["+n+"][description]"),R(this).find("a.btn-check-mime-type").attr("id","bp_document_extensions_support["+n+"][mime_type]"),n+=1}),n=parseInt(R(".extension-listing tr.default-extension").length)}),R(document).on("click","table.extension-listing #btn-add-video-extensions",function(){var e=R(this).closest("table.extension-listing"),t=R(this).closest("table.extension-listing").find("tbody tr.custom-extension-data").html(),n=1;e.find("tbody").append(' <tr class="custom-extension extra-extension video-extensions"> '+t+" </tr> "),K(),e.find("tbody tr.extra-extension").each(function(){R(this).find("input.extension-check").attr("name","bp_video_extensions_support["+n+"][is_active]"),R(this).find("input.extension-check").attr("data-name","bp_video_extensions_support["+n+"][is_active]"),R(this).find("input.extension-name").attr("name","bp_video_extensions_support["+n+"][name]"),R(this).find("input.extension-name").attr("data-name","bp_video_extensions_support["+n+"][name]"),R(this).find("input.extension-hidden").attr("name","bp_video_extensions_support["+n+"][hidden]"),R(this).find("input.extension-hidden").attr("data-name","bp_video_extensions_support["+n+"][hidden]"),R(this).find("input.extension-extension").attr("name","bp_video_extensions_support["+n+"][extension]"),R(this).find("input.extension-extension").attr("data-name","bp_video_extensions_support["+n+"][extension]"),R(this).find("input.extension-mime").attr("name","bp_video_extensions_support["+n+"][mime_type]"),R(this).find("input.extension-mime").attr("data-name","bp_video_extensions_support["+n+"][mime_type]"),R(this).find("input.extension-desc").attr("name","bp_video_extensions_support["+n+"][description]"),R(this).find("input.extension-desc").attr("data-name","bp_video_extensions_support["+n+"][description]"),R(this).find("a.btn-check-mime-type").attr("id","bp_video_extensions_support["+n+"][mime_type]"),n+=1}),n=parseInt(R(".extension-listing tr.default-extension").length)}),K(),R(document).on("click",".custom-extension-list-select li",function(){var e=R(this).find("i").attr("class"),t='<li><i class="'+e+'"></i><span>'+this.innerText+"</span></li>";R(this).closest("td").find(".icon-select-main .icon-select-button").html(t),R(this).closest("td").find(".icon-select-main .custom-extension-list").toggle(),R(this).closest("td").find('select.extension-icon option[value="'+e+'"]').attr("selected","selected"),R(this).closest(".icon-select-main").siblings(".bb-icon").length&&R(this).closest(".icon-select-main").siblings(".bb-icon").attr("class","bb-icon "+e)}),R(document).on("click",".icon-select-main .icon-select-button",function(){R(this).siblings(".custom-extension-list").toggle()}),R(document).on("click","table.extension-listing #btn-remove-extensions",function(){var e=R(this).closest("table.extension-listing");R(this).closest("tr").remove();var t=parseInt(R(".extension-listing tr.extra-extension").length),t=1;e.find("tbody tr.extra-extension").each(function(){R(this).find("input.extension-check").attr("name","bp_document_extensions_support["+t+"][is_active]"),R(this).find("input.extension-check").attr("data-name","bp_document_extensions_support["+t+"][is_active]"),R(this).find("input.extension-name").attr("name","bp_document_extensions_support["+t+"][name]"),R(this).find("input.extension-name").attr("data-name","bp_document_extensions_support["+t+"][name]"),R(this).find("input.extension-hidden").attr("name","bp_document_extensions_support["+t+"][hidden]"),R(this).find("input.extension-hidden").attr("data-name","bp_document_extensions_support["+t+"][hidden]"),R(this).find("input.extension-extension").attr("name","bp_document_extensions_support["+t+"][extension]"),R(this).find("input.extension-extension").attr("data-name","bp_document_extensions_support["+t+"][extension]"),R(this).find("input.extension-mime").attr("name","bp_document_extensions_support["+t+"][mime_type]"),R(this).find("input.extension-mime").attr("data-name","bp_document_extensions_support["+t+"][mime_type]"),R(this).find("input.extension-desc").attr("name","bp_document_extensions_support["+t+"][description]"),R(this).find("input.extension-desc").attr("data-name","bp_document_extensions_support["+t+"][description]"),R(this).find("select.extension-icon").attr("name","bp_document_extensions_support["+t+"][icon]"),R(this).find("select.extension-icon").attr("data-name","bp_document_extensions_support["+t+"][icon]"),t+=1})}),R(document).on("click","#input-mime-type-submit-check",function(e){e.preventDefault();var t=R("#bp-document-file-input").prop("files")[0];if(void 0===t)return alert(BP_ADMIN.select_document),!1;var n=new FormData;n.append("file",t),n.append("action","bp_document_check_file_mime_type"),R.ajax({url:BP_ADMIN.ajax_url,cache:!1,contentType:!1,processData:!1,data:n,type:"post",success:function(e){R(".show-document-mime-type").show(),R(".show-document-mime-type input.type").val(e.data.type)}})}),R(document).on("click",".show-document-mime-type .mime-copy",function(e){e.preventDefault();var t=R(this).attr("id");R(document).find('input[name="'+t+'"]').val("");var n=R(document).find("#mime-type").val();R(document).find('input[name="'+t+'"]').val(n),R(document).find(".close-modal").trigger("click")}),R(document).on("click",".btn-check-mime-type",function(e){e.preventDefault();var t,n=R(this).attr("id");R(document).find(".mime-copy").attr("id",n),R(document).find(".bp-hello-mime").attr("id","bp-hello-container"),R(document).find("#bp-hello-backdrop").length||(t=R(document).find(".bp-hello-mime"),R('<div id="bp-hello-backdrop" style="display: none;"></div>').insertBefore(t));var o,i=document.getElementById("bp-hello-backdrop"),s=document.getElementById("bp-hello-container");null!==i&&(document.body.classList.add("bp-disable-scroll"),i.style.display="",s.style.display="",o=s.querySelectorAll("a[href], button"),(o=Array.prototype.slice.call(o))[0].focus())}),document.addEventListener("click",function(e){var t,n=document.getElementById("bp-hello-backdrop");n&&document.getElementById("bp-hello-container")&&(t=n.contains(e.target),(e.target.classList.contains("close-modal")||t)&&(R(document).find("#bp-document-file-input").val(""),R(document).find(".show-document-mime-type").hide(),R(document).find(".show-document-mime-type input#mime-type").val("")))},!1),R(document).on("click",".bp-show-moderation-alert",function(){var e=R(this).attr("data-action");R("#bp-hello-backdrop").show(),R("#bp-hello-container").find(".bp-spam-action-msg").hide(),R("#bp-hello-container").find(".bp-not-spam-action-msg").hide(),"spam"===e?R("#bp-hello-container").find(".bp-spam-action-msg").show():"not-spam"===e&&R("#bp-hello-container").find(".bp-not-spam-action-msg").show(),R("#bp-hello-container").show().addClass("deactivation-popup")}),R(document).on("click",".bp-show-deactivate-popup a",function(e){e.preventDefault(),R("#bp-hello-container").find(".bp-hello-content").empty(),R("#bp-hello-backdrop").show(),R("#bp-hello-container").show().addClass("deactivation-popup"),R("#bp-hello-container").find(".component-deactivate").attr("data-redirect",R(this).attr("href")),R("#bp-hello-container").find(".bp-hello-content").append(R(this).parent().closest(".row-actions").find(".component-deactivate-msg").text())}),R(document).on("click",".close-modal",function(){R("#bp-hello-backdrop").hide(),R("#bp-hello-container").hide().removeClass("deactivation-popup"),R("#bp-hello-container").find(".component-deactivate").removeClass("form-submit")}),R(document).on("click",".component-deactivate",function(e){e.preventDefault(),R(this).hasClass("form-submit")?R("form#bp-admin-component-form").find('input[name="bp-admin-component-submit"]').trigger("click"):window.location=R(this).attr("data-redirect")}),R("form#bp-admin-component-form").submit(function(e){var t=(t=R('#bulk-action-selector-top[name="action"]').find(":selected").val())||R('#bulk-action-selector-top[name="action2"]').find(":selected").val(),n=!1,o="";R(".mass-check-deactivate").each(function(){1==R(this).prop("checked")&&(n=!0),o+=R(this).parent().find(".component-deactivate-msg").text()}),R("#bp-hello-container").find(".component-deactivate").hasClass("form-submit")||"inactive"!==t||!0!==n||(R("#bp-hello-container").find(".bp-hello-content").empty(),o&&(e.preventDefault(),R("#bp-hello-backdrop").show(),R("#bp-hello-container").show().addClass("deactivation-popup"),R("#bp-hello-container").find(".bp-hello-content").html(o),R("#bp-hello-container").find(".component-deactivate").addClass("form-submit")))}),R(document).on("change","#bp_moderation_settings_reporting .bpm_reporting_content_content_label > input",function(){R(this).prop("checked")?R(this).parent().next("label").removeClass("is_disabled").find('input[type="checkbox"]').prop("disabled",!1):R(this).parent().next("label").addClass("is_disabled").find('input[type="checkbox"]').removeProp("checked").removeAttr("checked").prop("disabled","disabled")}),R(document).on("click",".bp-suspend-user, .bp-unsuspend-user",function(){var e=R(this).attr("data-action");return"suspend"===e?confirm(BP_ADMIN.moderation.suspend_confirm_message):"unsuspend"===e?confirm(BP_ADMIN.moderation.unsuspend_confirm_message):void 0})})}();
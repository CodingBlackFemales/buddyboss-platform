window.bp=window.bp||{},function(){var Q=jQuery.noConflict(),S=[],U=[];function E(e,t,n){var o=new Date;o.setTime(o.getTime()+60*n*1e3);o="expires="+o.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"}Q(function(){Q("[data-run-js-condition]").each(function(){var t=Q(this).data("run-js-condition"),n=Q(this).prop("tagName");Q(this).on("change.run-condition",function(){if("SELECT"===n&&Q(this).is(":visible")){var e=t+"-"+Q(this).val();return Q('[class*="js-show-on-'+t+'-"]:not(.js-show-on-'+e+")").hide(),Q(".js-show-on-"+e).show().find("[data-run-js-condition]").trigger("change.run-condition"),!0}Q(this).prop("checked")&&Q(this).is(":visible")?(Q(".js-hide-on-"+t).hide(),Q(".js-show-on-"+t).show().find("[data-run-js-condition]").trigger("change.run-condition")):(Q(".js-hide-on-"+t).show(),Q(".js-show-on-"+t).hide().find("[data-run-js-condition]").trigger("change.run-condition"))}).trigger("change.run-condition")}),Q(document).find(".buddyboss_page_bp-pages .bp-admin-card").length&&Q(document).on("click",".create-background-page",function(){var e=Q(this).attr("data-name");Q.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_core_admin_create_background_page",page:e},success:function(e){e.success&&(window.location.href=e.data.url)}})}),Q(".bp-search-child-field").on("click",'input[type="checkbox"]',function(e){var t=Q(e.delegateTarget).prevAll(".bp-search-parent-field").first();t.length&&e.currentTarget.checked&&t.find('input[type="checkbox"]').prop("checked",!0)}),Q(".bp-search-parent-field").on("click",'input[type="checkbox"]',function(e){var t=Q(e.delegateTarget).nextUntil(".bp-search-parent-field");t.length&&!e.currentTarget.checked&&t.find('input[type="checkbox"]').prop("checked",!1)})}),Q(document).ready(function(){var e,t,n,o,i,s,a=Q("#wpwrap #adminmenumain #adminmenuwrap #adminmenu #toplevel_page_buddyboss-platform ul.wp-submenu li");Q("body.buddypress.post-type-bp-group-type").length&&(e=Q('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-groups"]'),Q(a).removeClass("current"),Q(e).addClass("current"),Q(e).attr("aria-current","page"),Q("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-groups"]').parent().addClass("current")),Q("body.buddypress.post-type-bp-email").length&&(e=Q('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-email"]'),Q(a).removeClass("current"),Q(e).addClass("current"),Q(e).attr("aria-current","page"),Q("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-email"]').parent().addClass("current")),Q("body.buddypress.post-type-topic").length&&(t=Q('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]'),Q(t).addClass("current"),Q(t).attr("aria-current","page"),Q("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")),Q("body.buddypress.post-type-reply").length&&(t=Q('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]'),Q(t).addClass("current"),Q(t).attr("aria-current","page"),Q("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")),Q("body.buddypress.post-type-bp-member-type").length&&(n=Q('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]'),Q(a).removeClass("current"),Q(n).addClass("current"),Q(n).attr("aria-current","page"),Q("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")),Q("body.buddypress.post-type-bp_ps_form").length&&(n=Q('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]'),Q(a).removeClass("current"),Q(n).addClass("current"),Q(n).attr("aria-current","page"),Q("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")),Q("body.buddypress.buddyboss_page_bbp-repair").length&&(o=Q('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),Q(a).removeClass("current"),Q(o).addClass("current"),Q(o).attr("aria-current","page"),Q("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),Q("body.buddypress.buddyboss_page_bbp-converter").length&&(o=Q('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),Q(a).removeClass("current"),Q(o).addClass("current"),Q(o).attr("aria-current","page"),Q("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),Q("body.buddypress.buddyboss_page_bp-media-import").length&&(i=Q('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),Q(a).removeClass("current"),Q(i).addClass("current"),Q(i).attr("aria-current","page"),Q("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),(Q("body.buddypress.buddyboss_page_bp-member-type-import").length||Q("body.buddypress.buddyboss_page_bp-repair-community").length)&&(s=Q('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),Q(a).removeClass("current"),Q(s).addClass("current"),Q(s).attr("aria-current","page"),Q("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),Q("body.buddypress.taxonomy-bpm_category").length&&(i=Q("#wpwrap #adminmenumain #adminmenuwrap #adminmenu li"),s=Q("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform"),d=Q('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-moderation"]'),Q(i).removeClass("wp-has-current-submenu"),Q(i).removeClass("wp-menu-open"),Q(s).addClass("wp-has-current-submenu wp-menu-open"),Q(a).removeClass("current"),Q(d).addClass("current"),Q(d).attr("aria-current","page"),Q("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-moderation"]').parent().addClass("current")),Q("body .section-bp_search_settings_community").length&&(Q("body .section-bp_search_settings_community table td input:checkbox:checked").length===Q("body .section-bp_search_settings_community table td input:checkbox").length&&Q("#bp_search_select_all_components").prop("checked",!0),Q("#bp_search_select_all_components").click(function(){var e=Q("body .section-bp_search_settings_community table");Q("td input:checkbox",e).prop("checked",this.checked)}),Q("body .section-bp_search_settings_community table td input:checkbox").click(function(){Q("body .section-bp_search_settings_community table td input:checkbox:checked").length===Q("body .section-bp_search_settings_community table td input:checkbox").length?Q("#bp_search_select_all_components").prop("checked",!0):Q("#bp_search_select_all_components").prop("checked",!1),"bp_search_topic_tax_topic-tag"===Q(this).attr("id")&&!0===Q(this).prop("checked")&&!1===Q("#bp_search_post_type_topic").prop("checked")&&Q("#bp_search_post_type_topic").prop("checked",!0),"bp_search_post_type_topic"===Q(this).attr("id")&&!0!==Q(this).prop("checked")&&!0===Q("#bp_search_topic_tax_topic-tag").prop("checked")&&Q("#bp_search_topic_tax_topic-tag").prop("checked",!1)})),Q("body .section-bp_search_settings_post_types").length&&(Q("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===Q("body .section-bp_search_settings_post_types table td input:checkbox").length&&Q("#bp_search_select_all_post_types").prop("checked",!0),Q("#bp_search_select_all_post_types").click(function(){var e=Q("body .section-bp_search_settings_post_types table");Q("td input:checkbox",e).prop("checked",this.checked)}),Q("body .section-bp_search_settings_post_types table td input:checkbox").click(function(){Q("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===Q("body .section-bp_search_settings_post_types table td input:checkbox").length?Q("#bp_search_select_all_post_types").prop("checked",!0):Q("#bp_search_select_all_post_types").prop("checked",!1)})),Q("body .section-bp_document_settings_extensions").length&&(Q(document).find(".nav-settings-subsubsub .subsubsub li.bp-media a").addClass("current"),Q("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox:checked").length===Q("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").length&&Q("#bp_select_extensions").prop("checked",!0),Q("#bp_select_extensions").click(function(){var e=Q("body .section-bp_document_settings_extensions table tbody tr td table tbody tr");Q("td input:checkbox",e).prop("checked",this.checked)}),Q("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").click(function(){Q("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox:checked").length===Q("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").length?Q("#bp_select_extensions").prop("checked",!0):Q("#bp_select_extensions").prop("checked",!1)}),Q("form").submit(function(){var e=!1;if(Q('body .section-bp_document_settings_extensions table tbody tr td table tbody tr.document-extensions td [type="text"]').each(function(){""===Q.trim(Q(this).val())?(Q(this).addClass("error"),e=!0):Q(this).hasClass("error")&&Q(this).removeClass("error")}),e)return!1})),Q(".buddyboss_page_bp-activity").length&&Q(document).on("click",".activity-attached-gif-container",function(e){e.preventDefault();var t=Q(this).find("video").get(0),e=Q(this).find(".gif-play-button");!0===t.paused?(t.play(),e.hide()):(t.pause(),e.show())}),Q("body.buddyboss_page_bp-help").length&&(Q(".bp-help-card-grid").on("click","span.open",function(){Q(this).toggleClass("active"),Q(this).closest(".main").find("ul:first").toggle()}),Q(".bp-help-card-grid li.selected").closest("ul").show().closest("li").find("> span.actions .open").addClass("active"),Q(".bp-help-card-grid li.selected").find("ul:first").show(),Q(".bp-help-card-grid li.selected").find("> span.actions .open").addClass("active"),Q(".bp-help-card-grid .sub-menu-count").each(function(){Q(this).text("("+Q(this).closest("li").find("ul:first li").size()+")")})),Q(".buddyboss_page_bp-settings .section-bp_groups_hierarchies").length&&(document.getElementById("bp-enable-group-hierarchies").checked?Q(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").show():Q(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").hide(),Q(document).on("click","#bp-enable-group-hierarchies",function(){!0===this.checked?Q(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").show():(Q(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").hide(),Q("#bp-enable-group-restrict-invites, #bp-enable-group-hide-subgroups").prop("checked",!1))})),Q(".buddyboss_page_bp-settings .section-bp_custom_post_type").length&&(Q(".bp-feed-post-type-checkbox").each(function(){var e=Q(this).data("post_type");!0===this.checked&&Q(".bp-feed-post-type-comment-"+e).closest("tr").show()}),Q(".buddyboss_page_bp-settings .section-bp_custom_post_type").on("click",".bp-feed-post-type-checkbox",function(){var e=Q(this).data("post_type"),e=Q(".bp-feed-post-type-comment-"+e);!0===this.checked?e.closest("tr").show():e.prop("checked",!1).closest("tr").hide()})),Q("#bp_media_profile_media_support").change(function(){this.checked?Q("#bp_media_profile_albums_support").prop("disabled",!1):(Q("#bp_media_profile_albums_support").prop("disabled",!0),Q("#bp_media_profile_albums_support").attr("checked",!1))}),Q("#bp_media_group_media_support").change(function(){this.checked?Q("#bp_media_group_albums_support").prop("disabled",!1):(Q("#bp_media_group_albums_support").prop("disabled",!0),Q("#bp_media_group_albums_support").attr("checked",!1))}),Q("body .section-bp_video_settings_extensions").length&&(Q(document).find(".nav-settings-subsubsub .subsubsub li.bp-media a").addClass("current"),Q(".video-extensions-listing #bp_select_extensions").click(function(){var e=Q("body .section-bp_video_settings_extensions table tbody tr td table tbody tr");Q("td input:checkbox",e).prop("checked",this.checked)})),Q(".buddyboss_page_bp-tools .section-default_data").length&&(jQuery(".bp-admin-form .checkbox").click(function(){"import-f-replies"===jQuery(this).attr("id")&&jQuery("#import-f-topics").prop("checked",!0),"import-f-topics"===jQuery(this).attr("id")&&jQuery("#import-f-replies").prop("checked",!1),"checked"!==jQuery(this).attr("checked")||jQuery(this).closest("li.main").find(".main-header").attr("disabled")||jQuery(this).closest("li.main").find(".main-header").prop("checked",!0)}),jQuery(".bp-admin-form #import-groups, .bp-admin-form #import-users, .bp-admin-form #import-forums").click(function(){"checked"!==jQuery(this).attr("checked")&&jQuery(this).closest("li").find("ul .checkbox").prop("checked",!1)}),jQuery(".bp-admin-form #bp-admin-submit").click(function(){return!!confirm(BP_ADMIN.tools.default_data.submit_button_message)}),jQuery(".bp-admin-form #bp-admin-clear").click(function(){return!!confirm(BP_ADMIN.tools.default_data.clear_button_message)}));setTimeout(function(){Q('iframe[src*="youtube"], iframe[src*="vimeo"]').parent().fitVids()},300);function r(){Q.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_media_import_status_request"},success:function(e){var t,n,o,i,s;void 0!==e.success&&void 0!==e.data?(t=e.data.total_media,n=e.data.total_albums,o=e.data.albums_done,i=e.data.media_done,s=e.data.import_status,Q("#bp-media-import-albums-total").text(n),Q("#bp-media-import-media-total").text(t),Q("#bp-media-import-albums-done").text(o),Q("#bp-media-import-media-done").text(i),"reset_albums"==s||"reset_media"==s||"reset_forum"==s||"reset_topic"==s||"reset_reply"==s||"reset_options"==s?Q("#bp-media-resetting").show():Q("#bp-media-resetting").hide(),"done"==s&&n==o&&t==i?(Q("#bp-media-import-msg").text(e.data.success_msg),Q("#bp-media-import-submit").show()):r()):Q("#bp-media-import-msg").text(e.data.error_msg)},error:function(){}})}var p,d,c;Q("#bp-media-import-updating").length&&r(),Q(".display-options").length&&(p=Q(".display-options"),d=Q("select[name=bp-display-name-format]"),c=d.val(),Q(p).each(function(){Q(this).hide()}),"first_name"===c?(Q(".first-name-options").show(),Q(".nick-name-options").hide(),Q(".first-last-name-options").hide()):"first_last_name"===c?(Q(".first-last-name-options").show(),Q(".first-name-options").hide(),Q(".nick-name-options").hide()):(Q(".nick-name-options").show(),Q(".first-name-options").hide(),Q(".first-last-name-options").hide()),Q(d).change(function(){Q(p).each(function(){Q(this).hide()}),"first_name"===(c=Q(this).val())?(Q(".first-name-options").show(),Q(".nick-name-options").hide(),Q(".first-last-name-options").hide()):"first_last_name"===c?(Q(".first-last-name-options").show(),Q(".first-name-options").hide(),Q(".nick-name-options").hide()):(Q(".nick-name-options").show(),Q(".first-name-options").hide(),Q(".first-last-name-options").hide())}));var u,l=Q(".profile-layout-options");l.length&&(g=Q("select[name=bp-profile-layout-format]"),u=g.val(),Q(l).each(function(){Q(this).hide()}),"list_grid"===u?Q(".profile-default-layout").show():Q(".profile-default-layout").hide(),Q(g).change(function(){Q(l).each(function(){Q(this).hide()}),"list_grid"===(u=Q(this).val())?Q(".profile-default-layout").show():Q(".profile-default-layout").hide()}),function(){for(var e=document.cookie.split(";"),t={},n=0;n<e.length;n++){var o=e[n].split("=");t[(o[0]+"").trim()]=unescape(o.slice(1).join("="))}return t}().reset_member&&(localStorage.setItem("bp-members",""),localStorage.setItem("bp-group_members",""),E("reset_member","",0)));var m,b,h,f=Q(".group-layout-options");f.length&&(x=Q("select[name=bp-group-layout-format]"),m=x.val(),Q(f).each(function(){Q(this).hide()}),"list_grid"===m?Q(".group-default-layout").show():Q(".group-default-layout").hide(),Q(x).change(function(){Q(f).each(function(){Q(this).hide()}),"list_grid"===(m=Q(this).val())?Q(".group-default-layout").show():Q(".group-default-layout").hide()}),function(){for(var e=document.cookie.split(";"),t={},n=0;n<e.length;n++){var o=e[n].split("=");t[(o[0]+"").trim()]=unescape(o.slice(1).join("="))}return t}().reset_group&&(localStorage.setItem("bp-groups",""),E("reset_group","",0))),Q("#bp-tools-submit").length&&(b=function(e,t){if(void 0===S[t])return!1;Q('body .section-repair_community .settings fieldset .checkbox label[for="'+S[t]+'"]').append('<div class="loader-repair-tools"></div>'),Q.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_repair_tools_wrapper_function",type:S[t],offset:e,nonce:Q('body .section-repair_community .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){if(void 0!==e.success){if(!e.success||void 0===e.data)return Q("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1;"running"===e.data.status?(Q('body .section-repair_community .settings fieldset .checkbox label[for="'+S[t]+'"] .loader-repair-tools').remove(),Q('body .section-repair_community .settings fieldset .checkbox label[for="'+S[t]+'"] code').remove(),Q('body .section-repair_community .settings fieldset .checkbox label[for="'+S[t]+'"]').append("<code>"+e.data.records+"</code>")):(Q('body .section-repair_community .settings fieldset .checkbox label[for="'+S[t]+'"] .loader-repair-tools').remove(),Q(".section-repair_community .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),t+=1),b(e.data.offset,t),S.length===t&&Q("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn")}},error:function(){return Q("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1}})},Q(document).on("click","#bp-tools-submit",function(e){e.preventDefault(),S=[],setTimeout(function(){Q("body .section-repair_community .settings fieldset .updated").remove()},500),Q.each(Q('.section-repair_community .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){S.push(Q(this).val())}),S.length&&(Q("body .section-repair_community .settings fieldset .submit a").addClass("disable-btn"),Q("body .section-repair_community .settings fieldset .checkbox code").remove(),b(0,0))})),Q("#bp-tools-forum-submit").length&&(h=function(e,t){Q('body .section-repair_forums .settings fieldset .checkbox label[for="'+U[t]+'"]').append('<div class="loader-repair-tools"></div>'),void 0!==U[t]&&Q.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_forum_repair_tools_wrapper_function",type:U[t],offset:e,site_id:Q("body .section-repair_forums #bbp-network-site").val(),nonce:Q('body .section-repair_forums .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){void 0!==e.success&&void 0!==e.data&&("running"===e.data.status?(Q('body .section-repair_forums .settings fieldset .checkbox label[for="'+U[t]+'"] .loader-repair-tools').remove(),Q('body .section-repair_forums .settings fieldset .checkbox label[for="'+U[t]+'"] code').remove(),Q('body .section-repair_forums .settings fieldset .checkbox label[for="'+U[t]+'"]').append("<code>"+e.data.records+"</code>")):(Q('body .section-repair_forums .settings fieldset .checkbox label[for="'+U[t]+'"] .loader-repair-tools').remove(),0===e.data.status?Q(".section-repair_forums .settings fieldset").append('<div class="error"><p>'+e.data.message+"</p></div>"):Q(".section-repair_forums .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),t+=1),h(e.data.offset,t),U.length===t&&Q("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"))},error:function(){return Q("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"),!1}})},Q(document).on("click","#bp-tools-forum-submit",function(e){e.preventDefault(),U=[];e=Q("body .section-repair_forums #bbp-network-site");if(e.length&&"0"===e.val())return alert(BP_ADMIN.tools.repair_forums.validate_site_id_message),!1;setTimeout(function(){Q("body .section-repair_forums .settings fieldset .updated").remove()},500),Q.each(Q('.section-repair_forums .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){U.push(Q(this).val())}),U.length&&(Q("body .section-repair_forums .settings fieldset .submit a").addClass("disable-btn"),Q("body .section-repair_forums .settings fieldset .checkbox code").remove(),h(1,0))}));var g=Q("#allow-custom-registration");g.length&&(0===parseInt(g.val())?(Q(".register-text-box").hide(),Q(".register-email-checkbox").show(),Q(".register-password-checkbox").show(),Q(".register-legal-agreement-checkbox").show()):(Q(".register-email-checkbox").hide(),Q(".register-password-checkbox").hide(),Q(".register-legal-agreement-checkbox").hide(),Q(".register-text-box").show()),Q(g).change(function(){0===parseInt(Q(this).val())?(Q(".register-text-box").hide(),Q(".register-email-checkbox").show(),Q(".register-password-checkbox").show(),Q(".register-legal-agreement-checkbox").show(),Q(".registration-form-main-select p.description").show()):(Q(".register-email-checkbox").hide(),Q(".register-password-checkbox").hide(),Q(".register-legal-agreement-checkbox").hide(),Q(".register-text-box").show(),Q(".registration-form-main-select p.description").hide())}));var v=Q("#bp-profile-avatar-type"),y=Q("#bp-disable-avatar-uploads"),x=Q("input[type=radio][name=bp-default-profile-avatar-type]"),w=Q("input[type=radio][name=bp-default-profile-avatar-type]:checked").val(),k=Q(".upload-avatars-field"),C=Q(".profile-avatar-options"),j=Q(".default-profile-avatar-type"),D=Q(".default-profile-avatar-custom"),B=Q(".enable-profile-gravatar-field"),I=Q(".bb-wordpress-profile-gavatar-warning");v.length&&(k.hide(),j.hide(),D.hide(),I.hide(),B.hide(),"buddyboss"===v.val()?(k.show(),j.show(),B.show(),"custom"===w&&D.show()):"wordpress"===v.val()&&(k.show(),BP_ADMIN.avatar_settings.wordpress_show_avatar||I.show()),Q(v).change(function(){k.hide(),j.hide(),D.hide(),I.hide(),B.hide(),"buddyboss"===Q(this).val()?(k.show(),B.show(),y.prop("checked")&&(w=Q("input[type=radio][name=bp-default-profile-avatar-type]:checked").val(),j.show(),"custom"===w&&D.show())):"wordpress"===Q(this).val()&&(k.show(),BP_ADMIN.avatar_settings.wordpress_show_avatar||I.show())})),y.length&&("buddyboss"===v.val()&&y.prop("checked")?C.show():C.hide(),Q(y).change(function(){"buddyboss"===v.val()&&Q(this).prop("checked")?(C.show(),"custom"!==(w=Q("input[type=radio][name=bp-default-profile-avatar-type]:checked").val())&&D.hide()):C.hide()})),x.length&&("buddyboss"===v.val()&&y.prop("checked")&&"custom"===w?D.show():D.hide(),Q(x).change(function(){"buddyboss"===v.val()&&y.prop("checked")&&"custom"===this.value?D.show():D.hide()}));var g=Q("#bp-disable-cover-image-uploads"),x=Q("input[type=radio][name=bp-default-profile-cover-type]"),P=Q("input[type=radio][name=bp-default-profile-cover-type]:checked").val();function A(e,t,n){e.find("p").removeClass("success error").addClass(n).html(t),e.show()}g.length&&(g.prop("checked")?Q(".profile-cover-options").show():Q(".profile-cover-options").hide(),Q(g).change(function(){Q(this).prop("checked")?(Q(".profile-cover-options").show(),"custom"!==(P=Q("input[type=radio][name=bp-default-profile-cover-type]:checked").val())&&Q(".default-profile-cover-custom").hide()):Q(".profile-cover-options").hide()})),x.length&&(g.prop("checked")&&"custom"===P?Q(".default-profile-cover-custom").show():Q(".default-profile-cover-custom").hide(),Q(x).change(function(){"custom"===this.value?Q(".default-profile-cover-custom").show():Q(".default-profile-cover-custom").hide()})),Q(".custom-profile-group-avatar").on("click","a.bp-delete-custom-avatar",function(e){var n,o;e.preventDefault(),confirm(BP_Confirm.are_you_sure)&&(n=Q(this).parents("tr").find(".bb-custom-profile-group-avatar-feedback"),e=BP_Uploader.settings.defaults.multipart_params.bp_params.item_id,o=BP_Uploader.settings.defaults.multipart_params.bp_params.object,n.hide(),n.find("p").removeClass("success error"),bp.ajax.post("bp_avatar_delete",{json:!0,item_id:e,object:o,nonce:BP_Uploader.settings.defaults.multipart_params.bp_params.nonces.remove}).done(function(e){console.log("done"),console.log(e);var t=BP_Uploader.strings.feedback_messages[e.feedback_code];A(n,t,"success"),Q("."+o+"-"+e.item_id+"-avatar").each(function(){Q(this).prop("src",e.avatar)}),Q(".custom-profile-group-avatar a.bb-img-remove-button").length&&Q(".custom-profile-group-avatar a.bb-img-remove-button").hide(),Q(".custom-profile-group-avatar ."+o+"-"+e.item_id+"-avatar").hide(),Q("#bp-default-"+o+"-"+e.item_id+"-avatar").val("")}).fail(function(e){console.log("fail"),console.log(e);var t=BP_Uploader.strings.default_error;_.isUndefined(e)||(t=BP_Uploader.strings.feedback_messages[e.feedback_code]),A(n,t,"error")}))}),Q(document).on("change","#default-profile-cover-file, #default-group-cover-file",function(e){e.preventDefault();var t=Q(this)[0].files[0],e=Q(".custom-profile-group-cover"),n=e.find(".bb-custom-profile-group-cover-feedback"),o=e.find(".bb-upload-preview"),i=e.find("#bp-default-custom-"+BP_ADMIN.profile_group_cover.upload.object+"-cover"),s=e.find("a.bb-img-remove-button");if(n.hide(),n.find("p").removeClass("success error"),void 0===t)return A(n,BP_ADMIN.profile_group_cover.select_file,"error"),!1;e=new FormData;e.append("file",t),e.append("name",t.name),e.append("_wpnonce",BP_ADMIN.profile_group_cover.upload.nonce),e.append("action",BP_ADMIN.profile_group_cover.upload.action),e.append("bp_params[object]",BP_ADMIN.profile_group_cover.upload.object),e.append("bp_params[item_id]",BP_ADMIN.profile_group_cover.upload.item_id),e.append("bp_params[has_cover_image]",BP_ADMIN.profile_group_cover.upload.has_cover_image),e.append("bp_params[nonces][remove]",BP_ADMIN.profile_group_cover.remove.nonce),Q.ajax({url:BP_ADMIN.ajax_url,cache:!1,contentType:!1,processData:!1,data:e,type:"post",success:function(e){var t="error",e=void 0===e?BP_ADMIN.profile_group_cover.file_upload_error:e.success?(o.prop("src",e.data.url).show(),i.val(e.data.url),s.show(),t="success",BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code]):void 0===e.data.feedback_code?e.data.message:BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code];A(n,e,t),Q("#default-profile-cover-file, #default-group-cover-file").val("")}})}),Q(".custom-profile-group-cover").on("click","a.bb-img-remove-button",function(e){var n,o,i,s,a;e.preventDefault(),confirm(BP_Confirm.are_you_sure)&&(n=Q(this),e=Q(".custom-profile-group-cover"),o=e.find(".bb-custom-profile-group-cover-feedback"),i=e.find(".bb-upload-preview"),s=e.find("#bp-default-custom-"+BP_ADMIN.profile_group_cover.upload.object+"-cover"),a=i.data("default"),o.hide(),o.find("p").removeClass("success error"),Q.ajax({url:BP_ADMIN.ajax_url,cache:!1,data:{json:!0,action:BP_ADMIN.profile_group_cover.remove.action,item_id:BP_ADMIN.profile_group_cover.upload.item_id,object:BP_ADMIN.profile_group_cover.upload.object,nonce:BP_ADMIN.profile_group_cover.remove.nonce},type:"post",success:function(e){var t="error",e=void 0===e?BP_ADMIN.profile_group_cover.file_upload_error:e.success?(i.prop("src",a).hide(),s.val(""),n.hide(),t="success",BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code]):void 0===e.data.feedback_code?e.data.message:BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code];A(o,e,t)}}))});var g=Q("#bp-disable-group-avatar-uploads"),x=Q("input[type=radio][name=bp-default-group-avatar-type]"),N=Q("input[type=radio][name=bp-default-group-avatar-type]:checked").val();g.length&&(g.prop("checked")?Q(".group-avatar-options").show():Q(".group-avatar-options").hide(),Q(g).change(function(){Q(this).prop("checked")?(Q(".group-avatar-options").show(),"custom"!==(N=Q("input[type=radio][name=bp-default-group-avatar-type]:checked").val())&&Q(".default-group-avatar-custom").hide()):Q(".group-avatar-options").hide()})),x.length&&(g.prop("checked")&&"custom"===N?Q(".default-group-avatar-custom").show():Q(".default-group-avatar-custom").hide(),Q(x).change(function(){"custom"===this.value?Q(".default-group-avatar-custom").show():Q(".default-group-avatar-custom").hide()}));var g=Q("#bp-disable-group-cover-image-uploads"),x=Q("input[type=radio][name=bp-default-group-cover-type]"),M=Q("input[type=radio][name=bp-default-group-cover-type]:checked").val();function T(){Q(".document-extensions-listing .extension-icon").each(function(){var n,e,t;0===Q(this).closest("td").find(".icon-select-main").length&&(n=[],Q(this).closest("td").find("select.extension-icon option").each(function(){var e=Q(this).val(),t=this.innerText;n.push('<li><i class="'+e+'"></i><span>'+t+"</span></li>")}),Q(this).closest("td").find("select.extension-icon").parent().append('<div class="icon-select-main"><span class="icon-select-button"></span><div class="custom-extension-list"> <ul class="custom-extension-list-select">'+n+"</ul></div></div>"),e=Q(this).closest("td").find(".extension-icon").val(),t=Q(this).closest("td").find(".extension-icon option:selected").text(),Q(this).closest("td").find(".icon-select-main .icon-select-button").html('<li><i class="'+e+'"></i><span>'+t+"</span></li>"))})}g.length&&(g.prop("checked")?Q(".group-cover-options").show():Q(".group-cover-options").hide(),Q(g).change(function(){Q(this).prop("checked")?(Q(".group-cover-options").show(),"custom"!==(M=Q("input[type=radio][name=bp-default-group-cover-type]:checked").val())&&Q(".default-group-cover-custom").hide()):Q(".group-cover-options").hide()})),x.length&&(g.prop("checked")&&"custom"===M?Q(".default-group-cover-custom").show():Q(".default-group-cover-custom").hide(),Q(x).change(function(){"custom"===this.value?Q(".default-group-cover-custom").show():Q(".default-group-cover-custom").hide()})),Q(document).on("click","table.extension-listing #btn-add-extensions",function(){var e=Q(this).closest("table.extension-listing"),t=Q(this).closest("table.extension-listing").find("tbody tr.custom-extension-data").html(),n=1;e.find("tbody").append(' <tr class="custom-extension extra-extension document-extensions"> '+t+" </tr> "),T(),e.find("tbody tr.extra-extension").each(function(){Q(this).find("input.extension-check").attr("name","bp_document_extensions_support["+n+"][is_active]"),Q(this).find("input.extension-check").attr("data-name","bp_document_extensions_support["+n+"][is_active]"),Q(this).find("input.extension-name").attr("name","bp_document_extensions_support["+n+"][name]"),Q(this).find("input.extension-name").attr("data-name","bp_document_extensions_support["+n+"][name]"),Q(this).find("input.extension-hidden").attr("name","bp_document_extensions_support["+n+"][hidden]"),Q(this).find("input.extension-hidden").attr("data-name","bp_document_extensions_support["+n+"][hidden]"),Q(this).find("input.extension-extension").attr("name","bp_document_extensions_support["+n+"][extension]"),Q(this).find("input.extension-extension").attr("data-name","bp_document_extensions_support["+n+"][extension]"),Q(this).find("select.extension-icon").attr("name","bp_document_extensions_support["+n+"][icon]"),Q(this).find("select.extension-icon").attr("data-name","bp_document_extensions_support["+n+"][icon]"),Q(this).find("input.extension-mime").attr("name","bp_document_extensions_support["+n+"][mime_type]"),Q(this).find("input.extension-mime").attr("data-name","bp_document_extensions_support["+n+"][mime_type]"),Q(this).find("input.extension-desc").attr("name","bp_document_extensions_support["+n+"][description]"),Q(this).find("input.extension-desc").attr("data-name","bp_document_extensions_support["+n+"][description]"),Q(this).find("a.btn-check-mime-type").attr("id","bp_document_extensions_support["+n+"][mime_type]"),n+=1}),n=parseInt(Q(".extension-listing tr.default-extension").length)}),Q(document).on("click","table.extension-listing #btn-add-video-extensions",function(){var e=Q(this).closest("table.extension-listing"),t=Q(this).closest("table.extension-listing").find("tbody tr.custom-extension-data").html(),n=1;e.find("tbody").append(' <tr class="custom-extension extra-extension video-extensions"> '+t+" </tr> "),T(),e.find("tbody tr.extra-extension").each(function(){Q(this).find("input.extension-check").attr("name","bp_video_extensions_support["+n+"][is_active]"),Q(this).find("input.extension-check").attr("data-name","bp_video_extensions_support["+n+"][is_active]"),Q(this).find("input.extension-name").attr("name","bp_video_extensions_support["+n+"][name]"),Q(this).find("input.extension-name").attr("data-name","bp_video_extensions_support["+n+"][name]"),Q(this).find("input.extension-hidden").attr("name","bp_video_extensions_support["+n+"][hidden]"),Q(this).find("input.extension-hidden").attr("data-name","bp_video_extensions_support["+n+"][hidden]"),Q(this).find("input.extension-extension").attr("name","bp_video_extensions_support["+n+"][extension]"),Q(this).find("input.extension-extension").attr("data-name","bp_video_extensions_support["+n+"][extension]"),Q(this).find("input.extension-mime").attr("name","bp_video_extensions_support["+n+"][mime_type]"),Q(this).find("input.extension-mime").attr("data-name","bp_video_extensions_support["+n+"][mime_type]"),Q(this).find("input.extension-desc").attr("name","bp_video_extensions_support["+n+"][description]"),Q(this).find("input.extension-desc").attr("data-name","bp_video_extensions_support["+n+"][description]"),Q(this).find("a.btn-check-mime-type").attr("id","bp_video_extensions_support["+n+"][mime_type]"),n+=1}),n=parseInt(Q(".extension-listing tr.default-extension").length)}),T(),Q(document).on("click",".custom-extension-list-select li",function(){var e=Q(this).find("i").attr("class"),t='<li><i class="'+e+'"></i><span>'+this.innerText+"</span></li>";Q(this).closest("td").find(".icon-select-main .icon-select-button").html(t),Q(this).closest("td").find(".icon-select-main .custom-extension-list").toggle(),Q(this).closest("td").find('select.extension-icon option[value="'+e+'"]').attr("selected","selected"),Q(this).closest(".icon-select-main").siblings(".bb-icon").length&&Q(this).closest(".icon-select-main").siblings(".bb-icon").attr("class","bb-icon "+e)}),Q(document).on("click",".icon-select-main .icon-select-button",function(){Q(this).siblings(".custom-extension-list").toggle()}),Q(document).on("click","table.extension-listing #btn-remove-extensions",function(){var e=Q(this).closest("table.extension-listing");Q(this).closest("tr").remove();var t=parseInt(Q(".extension-listing tr.extra-extension").length),t=1;e.find("tbody tr.extra-extension").each(function(){Q(this).find("input.extension-check").attr("name","bp_document_extensions_support["+t+"][is_active]"),Q(this).find("input.extension-check").attr("data-name","bp_document_extensions_support["+t+"][is_active]"),Q(this).find("input.extension-name").attr("name","bp_document_extensions_support["+t+"][name]"),Q(this).find("input.extension-name").attr("data-name","bp_document_extensions_support["+t+"][name]"),Q(this).find("input.extension-hidden").attr("name","bp_document_extensions_support["+t+"][hidden]"),Q(this).find("input.extension-hidden").attr("data-name","bp_document_extensions_support["+t+"][hidden]"),Q(this).find("input.extension-extension").attr("name","bp_document_extensions_support["+t+"][extension]"),Q(this).find("input.extension-extension").attr("data-name","bp_document_extensions_support["+t+"][extension]"),Q(this).find("input.extension-mime").attr("name","bp_document_extensions_support["+t+"][mime_type]"),Q(this).find("input.extension-mime").attr("data-name","bp_document_extensions_support["+t+"][mime_type]"),Q(this).find("input.extension-desc").attr("name","bp_document_extensions_support["+t+"][description]"),Q(this).find("input.extension-desc").attr("data-name","bp_document_extensions_support["+t+"][description]"),Q(this).find("select.extension-icon").attr("name","bp_document_extensions_support["+t+"][icon]"),Q(this).find("select.extension-icon").attr("data-name","bp_document_extensions_support["+t+"][icon]"),t+=1})}),Q(document).on("click","#input-mime-type-submit-check",function(e){e.preventDefault();var t=Q("#bp-document-file-input").prop("files")[0];if(void 0===t)return alert(BP_ADMIN.select_document),!1;e=new FormData;e.append("file",t),e.append("action","bp_document_check_file_mime_type"),Q.ajax({url:BP_ADMIN.ajax_url,cache:!1,contentType:!1,processData:!1,data:e,type:"post",success:function(e){Q(".show-document-mime-type").show(),Q(".show-document-mime-type input.type").val(e.data.type)}})}),Q(document).on("click",".show-document-mime-type .mime-copy",function(e){e.preventDefault();var t=Q(this).attr("id");Q(document).find('input[name="'+t+'"]').val("");e=Q(document).find("#mime-type").val();Q(document).find('input[name="'+t+'"]').val(e),Q(document).find(".close-modal").trigger("click")}),Q(document).on("click",".btn-check-mime-type",function(e){e.preventDefault();e=Q(this).attr("id");Q(document).find(".mime-copy").attr("id",e),Q(document).find(".bp-hello-mime").attr("id","bp-hello-container"),Q(document).find("#bp-hello-backdrop").length||(t=Q(document).find(".bp-hello-mime"),Q('<div id="bp-hello-backdrop" style="display: none;"></div>').insertBefore(t));var e=document.getElementById("bp-hello-backdrop"),t=document.getElementById("bp-hello-container");null!==e&&(document.body.classList.add("bp-disable-scroll"),e.style.display="",t.style.display="",t=t.querySelectorAll("a[href], button"),(t=Array.prototype.slice.call(t))[0].focus())}),document.addEventListener("click",function(e){var t=document.getElementById("bp-hello-backdrop");t&&document.getElementById("bp-hello-container")&&(t=t.contains(e.target),(e.target.classList.contains("close-modal")||t)&&(Q(document).find("#bp-document-file-input").val(""),Q(document).find(".show-document-mime-type").hide(),Q(document).find(".show-document-mime-type input#mime-type").val("")))},!1),Q(document).on("click",".bp-show-moderation-alert",function(){var e=Q(this).attr("data-action");Q("#bp-hello-backdrop").show(),Q("#bp-hello-container").find(".bp-spam-action-msg").hide(),Q("#bp-hello-container").find(".bp-not-spam-action-msg").hide(),"spam"===e?Q("#bp-hello-container").find(".bp-spam-action-msg").show():"not-spam"===e&&Q("#bp-hello-container").find(".bp-not-spam-action-msg").show(),Q("#bp-hello-container").show().addClass("deactivation-popup")}),Q(document).on("click",".bp-show-deactivate-popup a",function(e){e.preventDefault(),Q("#bp-hello-container").find(".bp-hello-content").empty(),Q("#bp-hello-backdrop").show(),Q("#bp-hello-container").show().addClass("deactivation-popup"),Q("#bp-hello-container").find(".component-deactivate").attr("data-redirect",Q(this).attr("href")),Q("#bp-hello-container").find(".bp-hello-content").append(Q(this).parent().closest(".row-actions").find(".component-deactivate-msg").text())}),Q(document).on("click",".close-modal",function(){Q("#bp-hello-backdrop").hide(),Q("#bp-hello-container").hide().removeClass("deactivation-popup"),Q("#bp-hello-container").find(".component-deactivate").removeClass("form-submit")}),Q(document).on("click",".component-deactivate",function(e){e.preventDefault(),Q(this).hasClass("form-submit")?Q("form#bp-admin-component-form").find('input[name="bp-admin-component-submit"]').trigger("click"):window.location=Q(this).attr("data-redirect")}),Q("form#bp-admin-component-form").submit(function(e){var t=(t=Q('#bulk-action-selector-top[name="action"]').find(":selected").val())||Q('#bulk-action-selector-top[name="action2"]').find(":selected").val(),n=!1,o="";Q(".mass-check-deactivate").each(function(){1==Q(this).prop("checked")&&(n=!0),o+=Q(this).parent().find(".component-deactivate-msg").text()}),Q("#bp-hello-container").find(".component-deactivate").hasClass("form-submit")||"inactive"!==t||!0!==n||(Q("#bp-hello-container").find(".bp-hello-content").empty(),o&&(e.preventDefault(),Q("#bp-hello-backdrop").show(),Q("#bp-hello-container").show().addClass("deactivation-popup"),Q("#bp-hello-container").find(".bp-hello-content").html(o),Q("#bp-hello-container").find(".component-deactivate").addClass("form-submit")))}),Q(document).on("change","#bp_moderation_settings_reporting .bpm_reporting_content_content_label > input",function(){Q(this).prop("checked")?Q(this).parent().next("label").removeClass("is_disabled").find('input[type="checkbox"]').prop("disabled",!1):Q(this).parent().next("label").addClass("is_disabled").find('input[type="checkbox"]').removeProp("checked").removeAttr("checked").prop("disabled","disabled")}),Q(document).on("click",".bp-suspend-user, .bp-unsuspend-user",function(){var e=Q(this).attr("data-action");return"suspend"===e?confirm(BP_ADMIN.moderation.suspend_confirm_message):"unsuspend"===e?confirm(BP_ADMIN.moderation.unsuspend_confirm_message):void 0})})}();
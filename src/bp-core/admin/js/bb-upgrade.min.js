window.bp=window.bp||{},function(){var e,o,a,t="https://www.buddyboss.com/";function r(o){var e={_embed:!0,per_page:a.per_page,page:a.page,orderby:"category_name",order:"asc",exclude:"390262"};a.searchQuery&&(e.search=a.searchQuery),a.collectionId&&"all"!==a.collectionId?e.integrations_collection=a.collectionId:(e.orderby="category_name",a.categoryHeadings=!0),a.categoryId&&"all"!==a.categoryId&&(e.integrations_category=a.categoryId),jQuery.ajax({method:"GET",url:t+"wp-json/wp/v2/integrations",data:e,success:function(e){a.data=o?a.data.concat(e):e,n(a)},error:function(e){console.log("Error fetching integrations"),e&&400===e.status&&jQuery(".bb-integrations_loadmore").remove()}})}function n(e){var o=jQuery("#tmpl-bb-integrations").html(),o=_.template(o)(e);e.previewParent&&e.previewParent.html(o)}n(a={previewParent:jQuery(".bb-integrations-section-listing"),data:[],collections:null,categories:null,searchQuery:"",collectionId:"",categoryId:"all",page:1,per_page:20,categoryHeadings:!1}),e=jQuery.ajax({method:"GET",url:t+"wp-json/wp/v2/integrations_collection?per_page=99"}),o=jQuery.ajax({method:"GET",url:t+"wp-json/wp/v2/integrations_category?per_page=99&orderby=name&hide_empty=1"}),jQuery.when(e,o).done(function(e,o){a.collections=e[0],a.categories={};for(var t=0;t<o[0].length;t++){var n=o[0][t];a.categories[n.id]=n.name}r(!1)}).fail(function(){console.log("Error fetching collections or categories")}),jQuery(document).on("change",'input[name="integrations_collection"]',function(){"all"===jQuery(this).siblings("span").text().toLowerCase()?a.collectionId="all":a.collectionId=jQuery(this).val(),a.page=1,r(!1)}),jQuery(document).on("keyup",'input[name="search_integrations"]',function(){a.searchQuery=jQuery(this).val(),a.page=1,r(!1)}),jQuery(document).on("change",'select[name="categories_integrations"]',function(){a.categoryId=jQuery(this).val(),a.page=1,r(!1)}),jQuery(document).on("click",".bb-integrations_loadmore",function(e){e.preventDefault(),jQuery(this).addClass("loading"),a.page+=1,r(!0)})}(jQuery);